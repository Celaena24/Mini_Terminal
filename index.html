<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <title>Mini Terminal</title>

    <link rel="stylesheet" href="lib/xterm.css"/>
    <link rel="stylesheet" href="./index.css"/>
    <link rel="stylesheet" href="./styles/add_local_file.css"/>


    <!-- Library Scripts -->
    <!--<script src="https://unpkg.com/xterm/lib/xterm.js"></script> &lt;!&ndash; Include xterm.js from CDN &ndash;&gt;-->
    <script src="lib/xterm.js"></script>
    <!--<script src="https://unpkg.com/xterm-addon-fit/lib/xterm-addon-fit.js"></script> &lt;!&ndash; Include xterm-addon-fit.js from CDN &ndash;&gt;-->
    <script src="lib/xterm-addon-fit.js"></script>

    <!-- Terminal Core Scripts -->
    <script src="src/terminal_core_generator.js"></script>
    <script src="src/terminal_setup_core_and_commands.js"></script>

    <!-- Multi-View Switching -->
    <script src="src/multi_view.js"></script>

    <!-- File creation and upload -->
<!--    <script src="src/add_new_file.js" defer></script>-->
<!--    <script src="src/upload_local_file.js" defer></script>-->


</head>

<body>

<div class="main-page">

    <div class="header">
        <h1>Welcome to Mini Terminal!</h1>
    </div>

    <input type="button" id="body-theme-toggle" onclick="switch_theme()" hidden>
    <label for="body-theme-toggle" class="body-theme-toggle">üåô</label>
    <script>
        const switch_theme = (() => {
            const theme_icon = document.querySelector('label[for=\"body-theme-toggle\"]');
            return () => {
                theme_icon.innerHTML = document.body.classList.toggle('dark-body-mode') ? '‚òÄÔ∏è' : 'üåô';
            };
        })();
    </script>

    <nav class="view-navigation">
        <button
                type="button"
                onmouseover="this.style.textDecoration='underline'"
                onmouseout="this.style.textDecoration='none'"
                onclick="alert('<Settings> Button clicked!')"> Settings
        </button>
        <button type="button"
                onmouseover="this.style.textDecoration='underline'"
                onmouseout="this.style.textDecoration='none'"
                onclick="alert('<About> Button clicked!')"> About
        </button>
    </nav>

    <div class="terminal-container" id="terminal-container"></div>

    <div class="additional-buttons">
        <button
                type="button"
                onclick="button_to_save_terminal_file_system_to_indexDB()">
            Save Terminal File System (IndexDB)
        </button>
        <button
                type="button"
                onclick="button_to_download_terminal_log()">
            Download Terminal Log
        </button>
        <button
                type="button"
                onclick="alert('Button clicked!')">
            Import FileSystem.JSON
        </button>
        <button
                type="button"
                onclick="alert('Button clicked!')">
            Export FileSystem.JSON
        </button>
        <button
                type="button"
                onclick="alert('Button clicked!')">
            Add New File
        </button>

<!--        <div id="add-file-form" style="display: none; margin-top: 10px;">-->
<!--            <input-->
<!--                    type="text"-->
<!--                    id="filename-input"-->
<!--                    placeholder="Enter filename (e.g., myfile.txt)"-->
<!--                    oninput="validateFilename()"-->
<!--            />-->
<!--            <textarea placeholder="Optional content..."></textarea>-->
<!--            <button onclick="submitFile()">Add File</button>-->
<!--            <p id="filename-feedback" style="margin: 5px 0; color: red;"></p>-->
<!--        </div>-->

<!--        <button type="button" onclick="document.getElementById('upload-file-input').click()">Upload Local File</button>-->
<!--        <input type="file" id="upload-file-input" accept=".txt,.json" style="display: none;"/>-->

<!--        &lt;!&ndash; File Preview UI &ndash;&gt;-->
<!--        <div id="upload-file-preview"-->
<!--             style="display: none; margin-top: 12px; background: #1e1e1e; color: #eee; padding: 10px; border-radius: 6px; font-family: monospace; white-space: pre-wrap; position: relative;">-->
<!--            <button id="close-preview-btn"-->
<!--                    style="position: absolute; top: 8px; right: 10px; background: #444; color: #eee; border: none; border-radius: 3px; padding: 2px 6px; cursor: pointer;">-->
<!--                ‚úï-->
<!--            </button>-->
<!--            <pre id="upload-file-content" style="margin-top: 24px;"></pre>-->
<!--        </div>-->

    </div>

    <script>

    </script>

    <div class="footer">
        <p>Authors: Vicayo Zhang, Aryan Ghosh, and Stella Dey</p>
    </div>

</div>

</body>
</html>

<!--

    Symbol '*' remarks the finished tasks.
    Symbol '?' remarks the tasks that we may need to update.

    Built-in commands:
        * - hello,
        * - help,
        * - man,
        * - echo,

    Solvable commands: (Milestone 3-4)
        ? - ls,
        2 - add button 'extract terminal log' (outside the terminal object)
        3 - mkdir,
        4 - touch,
        5 - pwd
        6 - cd,
        7 - rename,
        8 - cp,

    Challenging: (Milestone 5)
        1 - save log button,
        2 - "edit" command,
        3 - add button 'import fs from json file',
        4 - add button 'export fs from json file',

    Other things to do: (Milestone 6)
        0 - double-check the "description" property of each supported command,
        1 - add button 'add file from local' (outside the terminal object),
        2 - Add cool user interface,
        3 - Web Assembly...

-->